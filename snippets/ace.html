<!DOCTYPE html>
<html lang="en">

<head>
    <title>ACE in Action</title>
    <style type="text/css" media="screen">
        #editor {
            position: relative;
            width: 100%;
            height: 400px;
        }
    </style>
</head>
<body>

    <div id="editor">
        function foo(items) {
        var x = "All this is syntax highlighted";
        return x;
        }
    </div>
    <a href="../">Voltar</a>
    <button id="formatar">Formatar</button>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.6/ace.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.6/ext-beautify.js"></script>

    <script>
        //var beautify = ace.require("ace/ext/beautify"); // get reference to extension

        var editor = ace.edit("editor");

        document.getElementById('editor').style.fontSize = '16px';

        editor.setTheme("ace/theme/dracula");

        editor.session.setMode("ace/mode/javascript");

        editor.session.setTabSize(4);

        editor.setOptions({
            autoScrollEditorIntoView: true,
            copyWithEmptySelection: true,
        });
        
        setTimeout(() => {
            var beautify = ace.require("ace/ext/beautify"); // get reference to extension
            beautify.beautify(editor.session);  
        }, 500);
       
        //beautify.beautify(editor.session);
        document.getElementById("formatar").onclick = function () {
            var beautify = ace.require("ace/ext/beautify"); // get reference to extension
            beautify.beautify(editor.session);
        }
    </script>
</body>

</html>