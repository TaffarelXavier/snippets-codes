<!DOCTYPE html>
    <html>
    <head>
        <meta charset="UTF-8">
        <title>snippets-codes</title>
        
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
        
        <style>
.task-list-item { list-style-type: none; } .task-list-item-checkbox { margin-left: -20px; vertical-align: middle; }
</style>
        <style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        
        
    </head>
    <body class="vscode-light">
        <h1 id="snippets-codes">snippets-codes</h1>
<blockquote>
<h2 id="adicionar-createdat-e-updateat-a-alguma-tabela">Adicionar <strong>created_at</strong> e <strong>update_at</strong> a alguma tabela:</h2>
</blockquote>
<pre><code class="language-sql"><div><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-string">`turma`</span>
<span class="hljs-keyword">ADD</span> <span class="hljs-string">`created_at`</span> <span class="hljs-built_in">TIMESTAMP</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">CURRENT_TIMESTAMP</span>,
<span class="hljs-keyword">ADD</span> <span class="hljs-string">`update_at`</span> <span class="hljs-built_in">TIMESTAMP</span> <span class="hljs-keyword">on</span> <span class="hljs-keyword">update</span> <span class="hljs-keyword">CURRENT_TIMESTAMP</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">CURRENT_TIMESTAMP</span>;
</div></code></pre>
<hr>
<blockquote>
<h2 id="adicionar-dados-pareados-label-e-value-a-um-combobox">Adicionar dados pareados <em>(label e value)</em> a um <strong>ComboBox</strong>:</h2>
</blockquote>
<pre><code class="language-java"><div> Disciplina disciplinas[] = DisciplinaController.listarTudo();

    Vector model = <span class="hljs-keyword">new</span> Vector();

    <span class="hljs-keyword">for</span> (Disciplina disciplina : disciplinas) {
        model.addElement(<span class="hljs-keyword">new</span> ComboItem(disciplina.getCodigoDisciplina(), disciplina.getNomeDisciplina()));
    }

 jComboBoxDisciplina.setModel(<span class="hljs-keyword">new</span> javax.swing.DefaultComboBoxModel&lt;&gt;(model));
</div></code></pre>
<hr>
<blockquote>
<h2 id="pegar-o-valor-value-e-label-de-um-combobox">Pegar o valor: value e label de um <strong>ComboBox</strong>:</h2>
</blockquote>
<pre><code class="language-java"><div><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">jComboBoxDisciplinaActionPerformed</span><span class="hljs-params">(java.awt.event.ActionEvent evt)</span> </span>{                                                    

        JComboBox comboBox = (JComboBox) evt.getSource();

        ComboItem item = (ComboItem) comboBox.getSelectedItem();

        habilitarBotoes();

        DefaultTableModel model = (DefaultTableModel) jTableDisciplinasProfessor.getModel();

        model.addRow(<span class="hljs-keyword">new</span> Object[]{item.getValue(), item.getLabel()});

    }  
</div></code></pre>
<hr>
<blockquote>
<h2 id="how-to-retrieve-jtable-data-as-an-array">How to Retrieve JTable Data as an Array</h2>
</blockquote>
<pre><code class="language-java"><div><span class="hljs-keyword">public</span> Object[][] getTableData (JTable table) {
    DefaultTableModel dtm = (DefaultTableModel) table.getModel();
    <span class="hljs-keyword">int</span> nRow = dtm.getRowCount(), nCol = dtm.getColumnCount();
    Object[][] tableData = <span class="hljs-keyword">new</span> Object[nRow][nCol];
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span> ; i &lt; nRow ; i++)
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span> ; j &lt; nCol ; j++)
            tableData[i][j] = dtm.getValueAt(i,j);
    <span class="hljs-keyword">return</span> tableData;
}
</div></code></pre>
<blockquote>
<h2 id="how-to-get-id-of-the-newly-inserted-record-in-database">How to get ID of the newly inserted record in database</h2>
</blockquote>
<pre><code class="language-java"><div>String sql = <span class="hljs-string">"YOUR INSERT STATEMENT HERE"</span>;
 
PreparedStatement ps = conn.prepareStatement(sql,
        Statement.RETURN_GENERATED_KEYS); <span class="hljs-comment">//Segredo está aqui</span>
 
ps.execute();
 
ResultSet rs = ps.getGeneratedKeys();
<span class="hljs-keyword">int</span> generatedKey = <span class="hljs-number">0</span>;
<span class="hljs-keyword">if</span> (rs.next()) {
    generatedKey = rs.getInt(<span class="hljs-number">1</span>);
}
 
System.out.println(<span class="hljs-string">"Inserted record's ID: "</span> + generatedKey);
</div></code></pre>
<blockquote>
<h2 id="n%c3%a3o-permitir-edi%c3%a7%c3%a3o-em-uma-jtable">Não permitir edição em uma jTable</h2>
</blockquote>
<pre><code class="language-java"><div>  String[] columnNames = {<span class="hljs-string">"ID"</span>, <span class="hljs-string">"NOME"</span>, <span class="hljs-string">"CPF"</span>, <span class="hljs-string">"STATUS"</span>, <span class="hljs-string">"OPÇÃO"</span>}; <span class="hljs-comment">//As colunas ser?o adicionadas:</span>


	Professor professores[] = ProfessorController.listarTudo(); <span class="hljs-comment">//Os dados</span>

	Object[][] data = <span class="hljs-keyword">new</span> Object[professores.length][<span class="hljs-number">5</span>]; <span class="hljs-comment">//O 2, aqui, ? a quantidade de colunas</span>

	<span class="hljs-keyword">int</span> index = <span class="hljs-number">0</span>;

	<span class="hljs-keyword">for</span> (Professor s : professores) {
		data[index][<span class="hljs-number">0</span>] = s.getId(); <span class="hljs-comment">//</span>
		data[index][<span class="hljs-number">1</span>] = s.getNome(); <span class="hljs-comment">//</span>
		data[index][<span class="hljs-number">2</span>] = s.getCPF(); <span class="hljs-comment">//</span>
		data[index][<span class="hljs-number">3</span>] = s.getStatus(); <span class="hljs-comment">//</span>
		data[index][<span class="hljs-number">4</span>] = <span class="hljs-string">"Excluir"</span>; <span class="hljs-comment">//</span>
		index++;
	}

	TableModel model = <span class="hljs-keyword">new</span> DefaultTableModel(data, columnNames) {
		<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">long</span> serialVersionUID = <span class="hljs-number">1L</span>;

		<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isCellEditable</span><span class="hljs-params">(<span class="hljs-keyword">int</span> row, <span class="hljs-keyword">int</span> column)</span> </span>{
			<span class="hljs-comment">//return column == 4 || column == 5; Alguma coluna</span>
			<span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>; <span class="hljs-comment">//Todas as colunas;</span>
		}
	};

	jTableProfessor.setModel(model);
	
	<span class="hljs-comment">//Ou</span>
	
	 <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">naoPermitirEdicaoJTable</span><span class="hljs-params">()</span> </span>{

        TableModel model = <span class="hljs-keyword">new</span> DefaultTableModel() {
            <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">long</span> serialVersionUID = <span class="hljs-number">1L</span>;

            <span class="hljs-meta">@Override</span>
            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isCellEditable</span><span class="hljs-params">(<span class="hljs-keyword">int</span> row, <span class="hljs-keyword">int</span> column)</span> </span>{
                <span class="hljs-keyword">return</span> column == <span class="hljs-number">4</span> || column == <span class="hljs-number">5</span>;
            }
        };

        jTableDisciplinas.setModel(model);

    }
	
</div></code></pre>
<hr>
<blockquote>
<h2 id="como-mostrar-di%c3%a1logo-de-confirma%c3%a7%c3%a3o">Como mostrar diálogo de confirmação:</h2>
</blockquote>
<pre><code class="language-java"><div><span class="hljs-keyword">int</span> dialogResult = JOptionPane.showConfirmDialog(<span class="hljs-keyword">null</span>, <span class="hljs-string">"Deseja realmente pagar?"</span>, <span class="hljs-string">"Warning"</span>,JOptionPane.YES_NO_OPTION, JOptionPane.QUESTION_MESSAGE );
<span class="hljs-keyword">if</span> (dialogResult == JOptionPane.YES_OPTION) {
    <span class="hljs-comment">// Saving code here</span>
}```

&gt; ## how to clear JTable / Como limpar uma Jtable
```java
JTable table; <span class="hljs-comment">//A tabela</span>
DefaultTableModel model = (DefaultTableModel) table.getModel();
model.setRowCount(<span class="hljs-number">0</span>);
</div></code></pre>

    </body>
    </html>